<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.Region?>
<?import javafx.scene.layout.StackPane?>
<?import javafx.scene.layout.VBox?>

<!-- AJOUT DE styleClass="profile-root" -->
<VBox spacing="20" xmlns:fx="http://javafx.com/fxml"
      fx:controller="controllers.profileController" 
      stylesheets="@../styles/profile.css"
      styleClass="profile-root">

    <padding>
        <Insets top="20" left="20" right="20" bottom="20"/>
    </padding>

    <!-- carte profile -->
    <StackPane>
        <HBox fx:id="viewMode" alignment="TOP_LEFT" spacing="20" styleClass="profile-card">

            <padding>
                <Insets bottom="20" left="20" right="20" top="20"/>
            </padding>

            <StackPane fx:id="avatarStackPane" styleClass="avatar-container" minWidth="80" minHeight="80" maxWidth="80" maxHeight="80">
                <ImageView fx:id="avatarImage" fitHeight="80" fitWidth="80"/>
                <StackPane styleClass="camera-wrapper" minWidth="25" minHeight="25" maxWidth="25" maxHeight="25" StackPane.alignment="BOTTOM_RIGHT">
                    <ImageView fx:id="cameraImage" fitHeight="15" fitWidth="15" styleClass="camera-icon"/>
                </StackPane>
            </StackPane>


            <VBox spacing="8" styleClass="info-container">
                <HBox spacing="4">
                    <Label fx:id="firstName" styleClass="user-name"/>
                    <Label fx:id="lastName" styleClass="user-name"/>
                </HBox>

                <Label fx:id="profession" styleClass="user-role"/>

                <HBox alignment="CENTER_LEFT" spacing="5">
                    <ImageView fx:id="mapImage" fitHeight="16" fitWidth="16"/>
                    <Label fx:id="localisation"/>
                </HBox>

                <HBox alignment="CENTER_LEFT" spacing="5">
                    <ImageView fx:id="emailImage" fitHeight="16" fitWidth="16"/>
                    <Label fx:id="email"/>
                </HBox>

                <HBox alignment="CENTER_LEFT" spacing="5">
                    <ImageView fx:id="phoneImage" fitHeight="16" fitWidth="16"/>
                    <Label fx:id="phone"/>
                </HBox>

            </VBox>

            <Region HBox.hgrow="ALWAYS"/>

            <Button fx:id="editButton" styleClass="edit-button" text="Edit Profile">
                <graphic>
                    <ImageView fx:id="editImage" fitHeight="16" fitWidth="16"/>
                </graphic>
            </Button>

        </HBox>

        <!-- mode edition -->
        <HBox fx:id="editMode" alignment="TOP_LEFT" spacing="20" styleClass="profile-card" visible="false" managed="false">
             <padding>
                <Insets bottom="20" left="20" right="20" top="20"/>
            </padding>

            <StackPane styleClass="avatar-container" minWidth="80" minHeight="80" maxWidth="80" maxHeight="80">
                <ImageView fx:id="avatarImageEdit" fitHeight="80" fitWidth="80"/>
                <StackPane styleClass="camera-overlay">
                    <ImageView fx:id="cameraIcon" fitHeight="20" fitWidth="20"/>
                </StackPane>
            </StackPane>

            <VBox spacing="10" HBox.hgrow="ALWAYS">
                <TextField fx:id="editName" styleClass="edit-field" promptText="Nom et prénom"/>
                <TextField fx:id="editProfession" styleClass="edit-field" promptText="Profession"/>
                <HBox alignment="CENTER_LEFT" spacing="8">
                    <ImageView fx:id="emailIcon" fitHeight="16" fitWidth="16" opacity="0.7"/>
                    <TextField fx:id="editEmail" styleClass="edit-field" promptText="Adresse e-mail"/>
                </HBox>
                 <HBox alignment="CENTER_LEFT" spacing="8">
                    <ImageView fx:id="phoneIcon" fitHeight="16" fitWidth="16" opacity="0.7"/>
                    <TextField fx:id="editPhone" styleClass="edit-field" promptText="Téléphone"/>
                </HBox>
            </VBox>

            <VBox spacing="10" alignment="TOP_RIGHT">
                <Button fx:id="saveButton" text="Sauvegarder" styleClass="save-button"/>
                <Button fx:id="cancelButton" text="Annuler" styleClass="cancel-button"/>
            </VBox>
        </HBox>

    </StackPane>


    <!-- other infos -->
    <VBox spacing="0">
        <HBox spacing="5" styleClass="switch-buttons-container">
            <Button fx:id="OverviewButton" styleClass="switch-button" text="Overview"/>
            <Button fx:id="SettingsButton" styleClass="switch-button" text="Settings"/>
        </HBox>

        <StackPane fx:id="scene" styleClass="content-pane"/>
    </VBox>

</VBox>